### **계획: Python 격투 게임 프로토타입 제작**

**목표:** Pygame 라이브러리를 사용하여 두 캐릭터가 화면에 나타나 기본 움직임(이동, 점프)과 공격(펀치)을 수행하며, AI가 한 캐릭터를 제어할 수 있는 프로토타입을 만듭니다.

---

#### **1단계: 기본 게임 엔진 구축 (Pygame)**

*   **1.1 라이브러리 선택:** Python 게임 개발에 가장 널리 사용되는 `Pygame`을 사용합니다.
*   **1.2 게임 루프 구현:**
    *   Pygame 초기화 및 화면 설정.
    *   프레임 기반의 메인 게임 루프 (이벤트 처리, 업데이트, 그리기).
    *   게임 종료 조건 처리.
*   **1.3 기본 캐릭터 클래스 정의:**
    *   `Player` 클래스: `x`, `y` 위치, `vx`, `vy` 속도, `facing` 방향, `health` 체력, `state` (idle, walk, jump, attack) 등을 관리.
    *   스프라이트(임시 사각형)로 캐릭터 표현.
*   **1.4 기본 움직임 구현:**
    *   키보드 입력(방향키)에 따른 좌우 이동.
    *   점프 (중력 적용).
    *   앉기 (캐릭터 높이 조절).
*   **1.5 충돌 감지:**
    *   간단한 사각형 기반의 히트박스/가드박스 개념 도입.
    *   캐릭터 간의 충돌 감지 및 화면 경계 처리.

---

#### **2단계: 격투 메커니즘 구현**

*   **2.1 공격 구현:**
    *   기본 펀치 동작 및 애니메이션 (임시 색상 변경 또는 사각형 확장).
    *   공격 시 히트박스 활성화.
*   **2.2 데미지 시스템:**
    *   공격 히트박스와 상대방의 가드박스/피격박스 충돌 시 체력 감소.
    *   가드 시 데미지 감소 로직.
*   **2.3 간단한 AI (P2 제어):**
    *   P2 캐릭터에 무작위 또는 단순 패턴(예: 일정 시간마다 이동, 점프, 공격)의 행동 로직 부여.
    *   Pygame의 이벤트 루프 내에서 AI의 행동 결정 및 입력 주입.

---

#### **3단계: AI 연동 준비 (PyTorch 통합 고려)**

*   **3.1 게임 상태 추출 인터페이스:**
    *   Python 게임 내부에서 AI가 필요한 정보(P1/P2 위치, 체력, 현재 상태, 공격 여부 등)를 구조화된 딕셔너리 또는 JSON 형태로 추출하는 함수 구현.
    *   이것이 PyTorch AI 모델의 입력 데이터가 됩니다.
*   **3.2 AI 입력 주입 인터페이스:**
    *   PyTorch AI 모델이 결정한 행동(예: 'MOVE_RIGHT', 'JUMP', 'PUNCH')을 게임의 입력 시스템에 주입하는 함수 구현.
    *   이것이 AI 모델의 출력을 게임에 반영하는 방법이 됩니다.

---

**최종 산출물:**

두 캐릭터가 화면에 나타나 기본 움직임과 공격을 수행하며, P2 캐릭터는 간단한 AI에 의해 제어되는 Python 기반의 격투 게임 프로토타입 코드를 제공하겠습니다. 이 프로토타입은 향후 PyTorch AI 모델을 통합하기 위한 기본적인 구조를 갖출 것입니다.
