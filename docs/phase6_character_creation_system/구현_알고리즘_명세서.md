# Phase 6: 캐릭터 생성 시스템 구현 알고리즘 명세서

## 1. 개요

본 문서는 '캐릭터 생성 시스템'의 핵심 알고리즘 및 의사 코드(Pseudo-code)를 정의한다. 광고 콘텐츠 분석부터 캐릭터 속성 및 스킬 생성에 이르는 과정을 상세화한다.

## 2. 광고 텍스트 분석 알고리즘

### 2.1. `extractCharacterTheme(adText: string): { theme: string, attributes: string[] }`
*   **목적**: 광고 텍스트에서 캐릭터 테마와 관련 속성을 추출한다.
*   **의사 코드**:
    ```
    FUNCTION extractCharacterTheme(adText as string):
        keywords = NLP_EXTRACT_KEYWORDS(adText) // 자연어 처리 라이브러리 사용
        theme = CLASSIFY_THEME_FROM_KEYWORDS(keywords) // 미리 정의된 테마 목록 기반 분류
        // - 초기에는 '자동차', '음식', '패션', '여행' 등 핵심 테마에 집중.
        // - 정의되지 않은 테마의 광고에 대해서는 '일반' 테마 캐릭터를 생성하거나, 캐릭터 생성을 건너뛴다.
        // - 점진적으로 테마 사전을 확장하는 로드맵을 따른다.
        attributes = MAP_THEME_TO_ATTRIBUTES(theme) // 테마에 맞는 속성 매핑
        RETURN { theme, attributes }
    END FUNCTION
    ```

## 3. 캐릭터 속성 및 스킬 생성 알고리즘

### 3.1. `generateCharacterData(theme: string, attributes: string[]): CharacterData`
*   **목적**: 추출된 테마와 속성을 기반으로 캐릭터의 외형, 스킬, 파라미터를 생성한다.
*   **의사 코드**:
    ```
    FUNCTION generateCharacterData(theme as string, attributes as string[]):
        appearance = GENERATE_APPEARANCE_FROM_THEME(theme) // 외형 에셋 조합
        // - '테마-에셋 매핑 테이블' 방식을 사용한다.
        // - 각 테마(예: '레이싱')는 미리 정의된 파츠 에셋 목록(예: [헬멧_파츠, 슈트_파츠, 타이어_악세사리])과 연결된다.
        // - 이 에셋 목록 내에서 무작위 또는 규칙 기반으로 파츠를 선택하여 캐릭터 외형을 조합한다.
        // - 매핑 테이블은 JSON 또는 DB 형태로 관리하며, 새로운 테마 및 에셋 추가 시 확장 가능하도록 설계한다.
        skills = GENERATE_SKILLS_FROM_ATTRIBUTES(attributes) // 속성 기반 스킬 생성
        parameters = GENERATE_PARAMETERS_FROM_ATTRIBUTES(attributes) // 파라미터 생성 및 밸런싱
        // - 모든 캐릭터가 일정한 '총 능력치'를 가지도록 설정한다.
        // - 테마 속성(attributes)에 따라 '총 능력치'를 체력, 공격력, 방어력, 속도 등에 분배하는 방식을 사용한다.
        //   (예: '속도' 테마는 Speed 능력치에 가중치를 두는 대신 Health를 낮춤)
        RETURN { appearance, skills, parameters }
    END FUNCTION
    ```

## 4. 게임 엔진 통합 알고리즘

### 4.1. `loadGeneratedCharacter(characterData: CharacterData): Player`
*   **목적**: 생성된 캐릭터 데이터를 게임 엔진에 로드하여 플레이 가능한 캐릭터 객체로 변환한다.
*   **의사 코드**:
    ```
    FUNCTION loadGeneratedCharacter(characterData as CharacterData):
        player = CREATE_NEW_PLAYER_INSTANCE()
        player.setAppearance(characterData.appearance)
        player.setSkills(characterData.skills)
        player.setParameters(characterData.parameters)
        RETURN player
    END FUNCTION
    ```
