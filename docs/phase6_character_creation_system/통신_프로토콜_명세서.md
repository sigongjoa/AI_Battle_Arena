# Phase 6: 캐릭터 생성 시스템 통신 프로토콜 명세서

## 1. 개요

본 문서는 '캐릭터 생성 시스템'과 관련된 프론트엔드, 백엔드, 외부 광고 API 간의 통신 프로토콜을 정의한다. 데이터 형식, 메시지 구조, 통신 흐름을 상세히 기술한다.

## 2. 프론트엔드 - 백엔드 통신

### 2.1. 캐릭터 생성 요청 (Frontend -> Backend)
*   **메시지 타입**: `request_character_creation`
*   **데이터**: 현재 게임 맥락 정보 (예: `current_game_state`, `player_preferences`)

### 2.2. 캐릭터 생성 응답 (Backend -> Frontend)
*   **메시지 타입**: `character_creation_result`
*   **데이터**: 생성된 캐릭터 데이터 (`CharacterData` 객체)

## 3. 백엔드 - 외부 광고 API 통신

### 3.1. 광고 콘텐츠 요청 (Backend -> External Ad API)
*   **메시지 타입**: HTTP GET/POST
*   **데이터**: 사용자 정보, 게임 맥락 정보 (타겟팅 광고를 위한)

### 3.2. 광고 콘텐츠 응답 (External Ad API -> Backend)
*   **메시지 타입**: HTTP Response (JSON)
*   **데이터**: 광고 텍스트, 이미지 URL, 관련 키워드 등

## 4. 데이터 구조 정의

### 4.1. `CharacterData` (JSON Schema 또는 Protocol Buffers)
*   `id`: string (캐릭터 고유 ID)
*   `theme`: string (캐릭터 테마)
*   `appearance`: object (외형 관련 데이터)
    *   `modelId`: string
    *   `textureId`: string
    *   `colorScheme`: string[]
    *   `parts`: string[] (선택된 외형 파츠 목록)
*   `skills`: object[] (스킬 목록)
    *   `name`: string
    *   `effect`: string
    *   `animationId`: string
*   `parameters`: object (능력치)
    *   `health`: number
    *   `attackPower`: number
    *   `defense`: number
    *   `speed`: number

### 4.2. `CharacterThemeResponse` (Pydantic Model)
*   `theme`: string (추출된 캐릭터 테마)
*   `attributes`: string[] (테마와 관련된 속성 목록)
