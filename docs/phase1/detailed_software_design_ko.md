### **🥊 AI 격투 콘텐츠/시스템 – 상세 소프트웨어 설계**

프로젝트의 최종 목표인 **"AI 기반 격투 영상 자동화 및 유튜브 채널 수익화"**를 달성하기 위해, 각 설계 레이어를 다음과 같이 구체화합니다.

#### **1. 문제 정의 레이어 (Problem Definition)**

**1.1. 비즈니스 목표 상세화**
*   **1차 목표 (MVP):** **유튜브 파트너 프로그램(YPP) 가입.**
    *   이를 위해 구독자 1,000명 및 연간 시청 시간 4,000시간 또는 쇼츠 조회수 1,000만 회 달성이 필요.
    *   초기에는 기존 게임/애니메이션 에셋을 활용하여 빠르게 콘텐츠를 생산하고 시장 반응을 테스트하는 데 집중.
*   **2차 목표 (확장):** **안정적 수익 구조 구축 및 팬덤 형성.**
    *   구독자 10만 명 이상을 목표로, 광고 수익 외 멤버십, 슈퍼챗 등 추가 수익 모델 도입.
    *   'AI가 재현하는 격투'라는 명확한 아이덴티티로 니치 팬덤을 확보하고, 커뮤니티(디스코드, 네이버 카페 등) 활성화를 통해 채널 충성도를 높임.

**1.2. 기술 목표 상세화**
*   **Pose Estimation + RL:**
    *   **입력:** 다양한 격투 장면이 담긴 영상 (영화, 애니, 게임 플레이 등).
    *   **처리:** MediaPipe, OpenPose 등의 라이브러리를 사용하여 영상에서 2D/3D 스켈레톤 좌표(Pose)를 추출. 이 좌표 시퀀스를 RL(Reinforcement Learning) 에이전트의 학습 데이터로 사용.
    *   **출력:** 특정 캐릭터의 격투 스타일(예: '나루토의 나선환 동작', '더 복서의 인파이팅')을 학습한 AI 모델.
*   **Ikemen GO 통합:**
    *   학습된 AI 모델이 M.U.G.E.N. 호환 엔진인 Ikemen GO 내에서 캐릭터를 직접 제어하도록 API 또는 스크립트로 연동. AI가 사람의 조작 없이 스스로 대전(Battle)을 수행.
*   **자동화된 영상 파이프라인:**
    *   **입력:** "나루토 vs 사스케"와 같은 텍스트 기반 시나리오.
    *   **프로세스:**
        1.  LLM(GPT 등)이 시나리오를 기반으로 대본(TTS용 텍스트)과 영상 콘티(장면 순서)를 생성.
        2.  생성된 대본은 TTS(Text-to-Speech) API를 통해 음성 파일로 변환.
        3.  Ikemen GO에서 AI 대전 영상을 녹화.
        4.  FFmpeg을 사용하여 녹화 영상, 음성, 자막, 배경음악을 자동으로 합쳐 60초 미만의 쇼츠 영상으로 편집.
        5.  YouTube API를 통해 제목, 설명, 태그와 함께 자동으로 업로드.

**1.3. 성공 지표 (KPI) 구체화**
*   **정량적 지표:**
    *   **콘텐츠 생산:** 주 20개 쇼츠, 주 1개 일반 영상 안정적 업로드.
    *   **채널 성장:** 3개월 내 YPP 가입 조건 달성. 1년 내 구독자 10만 명 달성.
    *   **품질:** 저작권 경고/차단율 0%. (오리지널 에셋 전환 후 목표)
*   **정성적 지표:**
    *   영상 댓글의 긍정/부정 반응 비율.
    *   커뮤니티 내 2차 창작물(팬아트, 밈 등) 생성 빈도.

---

#### **2. 방법론 선택 레이어 (Methodology)**

*   **애자일 (Kanban 중심):**
    *   **보드 구성:** `아이디어` → `스크립트 작성` → `에셋 준비` → `AI 학습/대전` → `영상 생성` → `업로드` → `성과 분석`의 흐름으로 칸반 보드를 구성.
    *   **운영 방식:** 매주 성과가 좋은 영상(조회수, 시청 지속시간)의 특징을 분석하여 다음 주 콘텐츠 기획에 즉시 반영 (A/B 테스트). 예를 들어, 특정 캐릭터 조합의 반응이 좋으면 해당 조합의 영상을 집중적으로 제작.
*   **하이브리드 (부분적 워터폴):**
    *   **적용 대상:** `Pose Estimation 모듈`, `AI Fighter 모듈`, `영상 파이프라인 모듈` 등 핵심 시스템의 초기 버전 개발.
    *   **프로세스:** `요구사항 정의 → 설계 → 개발 → 통합 테스트`의 명확한 단계를 거쳐 안정적인 인프라를 먼저 구축. 이 기반 위에서 애자일 방식으로 콘텐츠를 반복 생산.

---

#### **3. 설계 원칙 레이어 (Principles)**

*   **KISS (Keep It Simple, Stupid):**
    *   **적용:** 복잡한 스토리나 세계관 대신, 'A vs B 누가 이길까?'와 같이 직관적이고 단순한 컨셉에 집중. 시스템은 오직 'AI 격투 재현 및 영상화'라는 핵심 기능에만 집중.
*   **YAGNI (You Ain't Gonna Need It):**
    *   **적용:** 초기 버전에서는 실시간 방송, 시청자 참여형 대전, VR/AR 연동 등은 일절 고려하지 않음. 오직 사전 제작된 쇼츠 영상 자동화에만 집중.
*   **SoC (Separation of Concerns):**
    *   **모듈별 역할 정의:**
        *   `pose_module`: 입력(영상 파일)을 받아 출력(JSON 형태의 좌표 데이터)만 책임짐.
        *   `ai_fighter_module`: 좌표 데이터를 입력받아 Ikemen GO에서 사용할 AI 모델 파일(.py, .json 등)을 출력.
        *   `video_pipeline_module`: AI 모델, 에셋, 시나리오를 입력받아 최종 영상 파일(.mp4)과 메타데이터를 출력.
        *   `asset_module`: 캐릭터, 배경, 사운드 등 모든 리소스를 관리하는 중앙 저장소 역할. 초기에는 외부 리소스를, 중기에는 오리지널 리소스를 담게 됨.

---

#### **4. 산출물 레이어 (Artifacts)**

*   **SRS (Software Requirements Specification):**
    *   "사용자는 텍스트 시나리오만 입력하면 10분 내에 완성된 쇼츠 영상을 얻을 수 있어야 한다."
    *   "시스템은 최소 10종 이상의 캐릭터 에셋을 관리할 수 있어야 한다."
*   **아키텍처 다이어그램:**
    *   (Source Video) → [Pose Module] → (Pose Data.json) → [AI Fighter Module] → (AI Model.pkl) → [Ikemen GO Engine] ↔ (Battle Log) → [Video Pipeline Module (FFmpeg)] → (Final_Short.mp4) → [YouTube API] → (YouTube)
*   **UI/UX 와이어프레임 (내부 대시보드):**
    *   **화면 구성:** 캐릭터 A/B 선택 드롭다운, 배경 스테이지 선택, 시나리오 입력 텍스트 박스, '영상 생성 시작' 버튼, 진행 상태 바, 완료된 영상 목록(유튜브 링크 포함).
*   **테스트 체크리스트:**
    *   **Pose 정확도:** 특정 동작(발차기, 펀치)에 대한 좌표 추출 정확도 95% 이상.
    *   **AI 대전 안정성:** 100회 연속 자동 대전 시 시스템 다운/프리징 현상 0회.
    *   **파이프라인 성능:** 60초 영상 1개 생성에 걸리는 시간 5분 이내.

---

#### **5. 검증 & 품질 레이어 (Verification & Quality)**

*   **기술 부채 관리:**
    *   **전략:** '에셋 저작권'을 가장 큰 기술 부채로 정의.
    *   **상환 계획:** YPP 가입으로 첫 수익 발생 시, 수익의 30%를 오리지널 캐릭터/배경/사운드 에셋 제작에 재투자하는 것을 원칙으로 함.
*   **변경 관리:**
    *   **시나리오:** '나루토' IP 기반 콘텐츠에서 오리지널 캐릭터 '진'으로 변경 시.
    *   **영향도 분석:** `asset_module`의 스프라이트 교체, `ai_fighter_module`의 학습 데이터 교체, `video_pipeline_module`의 영상 타이틀/태그 포맷 변경이 필요함을 문서화하고 작업을 추적.
*   **품질 지표:**
    *   **콘텐츠:** 영상 평균 CTR(클릭률) 5% 이상, 시청자 유지율 70% 이상.
    *   **시스템:** 영상 생성 실패율 1% 미만, 저작권 차단율 0%.

---

#### **6. 문서화 레이어 (Documentation)**

*   **GitHub:** 소스 코드, 아키텍처 다이어그램, 기술 설계 문서(Markdown), 칸반 보드(Issues/Projects) 관리.
*   **Notion:** 콘텐츠 기획안, A/B 테스트 결과, 주간 회의록, 아이디어 백로그 관리.
*   **자동화된 기록:** 영상 생성 시 사용된 `시나리오`, `AI 모델 버전`, `에셋 정보`, `최종 유튜브 링크`, `성과(조회수, 좋아요)`를 자동으로 데이터베이스(예: Google Sheets, Airtable)에 기록하여 데이터 기반 의사결정을 지원.

---

#### **7. LLM 특화 레이어 (LLM-Specific)**

*   **Input Spec:** `{ "fighter_A": "나루토", "fighter_B": "사스케", "style": "진지한 결투" }` 와 같은 구조화된 JSON 형식으로 LLM에 입력을 제공하여 일관된 결과물 유도.
*   **Output Spec:** LLM은 `{ "title": "AI가 재현한 나루토 vs 사스케 최종 결전", "tts_script": "...", "tags": ["#나루토", "#AI", "#격투"] }` 와 같은 JSON 스키마에 맞춰 결과물을 반환하도록 강제.
*   **Error Spec:** LLM이 부적절하거나 너무 긴 스크립트를 생성할 경우, "스크립트를 60초 분량으로 요약해줘" 와 같은 자동화된 후속 프롬프트를 통해 스스로 수정하도록 설계.
*   **Eval Spec:** 생성된 스크립트를 기반으로 만든 영상의 유튜브 성과(조회수, 구독 전환율)를 다시 LLM의 평가 데이터로 사용하여, 시간이 지날수록 더 인기 있는 스크립트를 생성하도록 모델을 개선(Fine-tuning).

---

#### **8. 온톨로지 레이어 (Ontology)**

*   **Entity (개체):** `User`, `Pose`, `AI_Fighter`, `Video`, `YouTube_Channel`
*   **Relationship (관계):**
    *   `User`는 `Video`를 `시청(Watch)`한다.
    *   `AI_Fighter`는 `Pose` 데이터를 `학습(Learn)`한다.
    *   `Video`는 `AI_Fighter`들의 `대전(Battle)`을 `포함(Contains)`한다.
*   **Attributes (속성):**
    *   `AI_Fighter.style`: "복싱", "태권도", "카포에라" 등 격투 스타일 정의.
    *   `Video.format`: "Short", "Long-form" 등 영상 형식 정의.
    *   `YouTube_Channel.status`: "Pre-YPP", "Monetized", "Growth" 등 채널 상태 정의.
*   **Business Logic Binding (비즈니스 규칙 연동):**
    *   **규칙:** "채널의 `status`가 `Monetized`가 되면, `asset_module`의 모든 에셋은 `is_original=True` 상태여야 한다."
    *   **의미:** 이 규칙은 '수익화 안정화'라는 비즈니스 목표와 '오리지널 에셋 전환'이라는 기술적 과제를 명확하게 연결함.

---

### **✅ 최종 결론**

위와 같이 프레임워크를 상세화함으로써, 당신의 프로젝트는 더 이상 '유튜브 영상 제작'이라는 막연한 아이디어가 아닌, **"확장 가능하고 유지보수 가능한 자동화 시스템을 구축하여 지속 가능한 디지털 비즈니스를 만드는"** 체계적인 소프트웨어 엔지니어링 프로젝트로 정의됩니다. 각 단계는 측정 가능하며, 목표 달성을 위한 구체적인 실행 계획을 담고 있습니다.
