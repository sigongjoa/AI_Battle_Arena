# 기술 스택 및 의존성 명세서

## 1. 개요

본 문서는 RL-WebRTC 연동 프로젝트의 성공적인 구현 및 재현을 위해 필요한 모든 기술 스택과 라이브러리 의존성을 명시한다. 각 라이브러리의 역할, 버전, 그리고 개발 시 참고해야 할 공식 문서를 명확히 하여 개발 효율성을 높이고 잠재적인 호환성 문제를 예방하는 것을 목표로 한다.

---

## 2. 백엔드 (Python)

- **패키지 관리 파일**: `backend/requirements.txt`

### 2.1. 기존 주요 라이브러리

| 라이브러리             | 설치된 버전 | 역할                                   | 공식 문서                                                                 |
| :--------------------- | :---------- | :------------------------------------- | :------------------------------------------------------------------------ |
| `stable-baselines3`    | (명시 없음) | 강화학습(PPO 등) 모델 학습 및 관리     | [Link](https://stable-baselines3.readthedocs.io/en/master/)               |
| `gymnasium`            | (명시 없음) | OpenAI Gym 표준 강화학습 환경 인터페이스 | [Link](https://gymnasium.farama.org/)                                     |
| `fastapi`              | (명시 없음) | (현재 RL 연동과 무관) API 서버 구축    | [Link](https://fastapi.tiangolo.com/)                                     |

### 2.2. 신규 추가 라이브러리

WebRTC 연동을 위해 다음 라이브러리를 `requirements.txt`에 추가하고 설치해야 한다.

| 라이브러리             | 설치할 버전 | 역할                                   | 공식 문서                                                                 |
| :--------------------- | :---------- | :------------------------------------- | :------------------------------------------------------------------------ |
| `aiortc`               | `^1.6.0`    | Python 환경의 핵심 WebRTC 엔진         | [Link](https://aiortc.readthedocs.io/en/latest/)                          |
| `aiohttp`              | `^3.9.5`    | `aiortc`의 시그널링을 위한 비동기 HTTP 클라이언트 | [Link](https://docs.aiohttp.org/en/stable/)                               |

---

## 3. 프론트엔드 (TypeScript / React)

- **패키지 관리 파일**: `arcade-clash/package.json`

### 3.1. 기존 주요 라이브러리

| 라이브러리 | 설치된 버전 | 역할                       | 공식 문서                                       |
| :--------- | :---------- | :------------------------- | :---------------------------------------------- |
| `react`    | `^18.2.0`   | UI 렌더링 및 컴포넌트 관리 | [Link](https://react.dev/)                      |
| `vite`     | `^5.2.0`    | 프론트엔드 개발 서버 및 빌드 | [Link](https://vitejs.dev/)                     |

### 3.2. 신규 추가 라이브러리

WebRTC 연동을 위해 다음 라이브러리를 `package.json`에 추가하고 설치해야 한다.

| 라이브러리 | 설치할 버전 | 역할                                   | 공식 문서                                       |
| :--------- | :---------- | :------------------------------------- | :---------------------------------------------- |
| `peerjs`   | `^1.5.4`    | WebRTC 연결 설정을 간소화하는 클라이언트 | [Link](https://peerjs.com/docs.html)            |

*(참고: `dependency_analysis.md`에 언급된 `msgpack-lite`는 초기 구현에서는 제외하고, 필요 시 추후에 데이터 전송량 최적화를 위해 도입을 검토한다.)*

---

## 4. 개발 환경 설정

### 4.1. 백엔드

1.  `backend/requirements.txt` 파일에 아래 내용을 추가합니다.
    ```
aiortc>=1.6.0
aiohttp>=3.9.5
    ```
2.  터미널에서 다음 명령어를 실행하여 라이브러리를 설치합니다.
    ```bash
    pip install -r backend/requirements.txt
    ```

### 4.2. 프론트엔드

1.  `arcade-clash` 디렉토리로 이동합니다.
2.  터미널에서 다음 명령어를 실행하여 `peerjs`를 설치하고 `package.json`에 추가합니다.
    ```bash
    npm install peerjs@^1.5.4
    ```

### 4.3. 시그널링 서버

-   WebRTC 초기 연결 중개를 위해, 프로젝트에 포함된 PeerJS 서버를 실행해야 합니다.
-   프로젝트 루트 디렉토리에서 다음 명령어를 실행합니다.
    ```bash
    node backend/peerjs_server.js
    ```
