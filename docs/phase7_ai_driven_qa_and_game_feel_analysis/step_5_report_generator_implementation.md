# Phase 7: Step 5 - Report Generator 구현 (XAI Reporting System)

## 1. 목표
분석된 QA 메트릭과 평가 결과를 바탕으로 '가설' 형태의 텍스트 리포트를 생성하고, 이를 뒷받침하는 근거 데이터(영상 클립, 로그)를 연동하며, AI 아바타를 활용한 영상 브리핑 시스템을 구축합니다.

## 2. 상세 계획

### 2.1. 가설 기반 텍스트 생성 모듈 개발
*   **`Jinja2` 템플릿 등을 활용:** `Report Database`의 메트릭과 평가 결과를 바탕으로 '정답'이 아닌 '가설' 형태의 텍스트 리포트 생성 로직 개발.
*   **예시 문구:** "류의 강펀치는 평균 히트스톱 5프레임으로 손맛 점수 0.91점을 기록했습니다. 하지만, 켄의 3번 콤보는 난이도 대비 효율이 2.3배 높아 밸런스 조정이 필요하다는 가설이 제기됩니다."

### 2.2. XAI Evidence Collector 구현
*   **근거 데이터 수집 로직 개발:** 리포트의 핵심 가설을 뒷받침하는 원본 로그 및 영상 클립을 자동으로 수집하는 로직 개발.
*   **영상 클립 추출 기능 구현:** `moviepy` 또는 `ffmpeg-python`을 사용하여 원본 리플레이 영상에서 특정 구간(예: 밸런스 문제가 발생한 콤보 구간, 손맛 점수가 높은 타격 구간)을 잘라내는 기능 구현.
*   **데이터 연동:** 생성된 영상 클립과 로그 데이터를 리포트 텍스트와 연동하여 리포트 내에 링크 또는 임베드.

### 2.3. AI 아바타 영상 브리핑 시스템 구축
*   **음성 변환:** `gTTS` 또는 `Coqui TTS`를 사용하여 생성된 텍스트 리포트를 음성으로 변환.
*   **아바타 모션 생성:** `Blender (Python Scripting)`를 활용하여 AI 아바타의 모션(음성 싱크, 제스처 등)을 자동 생성하는 스크립트 개발.
*   **최종 영상 생성:** `FFmpeg`를 사용하여 음성, 아바타 모션, 게임 플레이 영상 클립, 텍스트 오버레이 등을 결합하여 최종 XAI 리포트 영상 생성.
*   **리포트 파일 생성:** 리포트 영상과 함께 상세 MD 파일 (근거 데이터 링크 포함) 생성.

## 3. Definition of Done (DoD)
*   `Jinja2` 템플릿을 활용하여 `Report Database`의 데이터를 기반으로 가설 형태의 텍스트 리포트를 자동으로 생성하는 모듈이 구현되었음.
*   리포트의 가설을 뒷받침하는 원본 로그 및 영상 클립을 자동으로 수집하는 `XAI Evidence Collector`가 구현되었음.
*   `moviepy` 또는 `ffmpeg-python`을 사용하여 리플레이 영상에서 특정 구간을 정확히 잘라내는 기능이 구현되었고, 리포트와 연동되었음.
*   `gTTS` 또는 `Coqui TTS`를 사용하여 텍스트 리포트를 음성으로 변환하는 기능이 구현되었음.
*   `Blender` 파이썬 스크립트를 통해 AI 아바타의 모션이 자동으로 생성되는 기능이 구현되었음.
*   `FFmpeg`를 사용하여 음성, 아바타 모션, 게임 영상 클립, 텍스트 오버레이를 결합한 최종 XAI 리포트 영상이 성공적으로 생성되었음.
*   리포트 영상과 함께 근거 데이터 링크가 포함된 상세 MD 파일이 자동으로 생성되었음.